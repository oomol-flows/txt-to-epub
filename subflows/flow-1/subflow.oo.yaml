nodes:
  - node_id: map#1
    title: "Map #1"
    inputs_from:
      - handle: array
        from_node:
          - node_id: list_files_from_folder#1
            output_handle: file_paths
    subflow: array::map
    slots:
      - slot_node_id: +slot#2
        slotflow: self::+slotflow#1
        inputs_def:
          - handle: epub_dir
            json_schema:
              type: string
              ui:widget: dir
            nullable: false
            executor_name: python
          - handle: book_title
            json_schema:
              type: string
            nullable: true
            executor_name: python
          - handle: author
            json_schema:
              type: string
            nullable: true
            executor_name: python
          - handle: cover_image
            json_schema:
              type: string
              ui:widget: file
            nullable: true
            executor_name: python
        inputs_from:
          - handle: book_title
            from_flow:
              - input_handle: book_title
          - handle: author
            from_flow:
              - input_handle: author
          - handle: cover_image
            from_flow:
              - input_handle: cover_image
          - handle: epub_dir
            from_flow:
              - input_handle: epub_dir
  - node_id: list_files_from_folder#1
    title: "List files from folder #1"
    inputs_from:
      - handle: folder
        from_flow:
          - input_handle: folder
      - handle: sort
        value: false
      - handle: traverse
        value: false
      - handle: absolute_path
        value: true
    task: oomol-file::list_files_from_folder
description: 本模块作用是将书籍的 txt 文件转为 epub 文件。输入一个 txt 文件地址，一个转化后的存储地址。给用户返回一个 epub
  文件。其他如书名，作者，封面为选填
inputs_def:
  - handle: folder
    json_schema:
      type: string
      ui:widget: dir
    nullable: false
    description: Input
    executor_name: nodejs
  - handle: epub_dir
    json_schema:
      type: string
      ui:widget: dir
    nullable: false
    executor_name: python
  - handle: book_title
    json_schema:
      type: string
    nullable: true
    executor_name: python
  - handle: author
    json_schema:
      type: string
    nullable: true
    executor_name: python
  - handle: cover_image
    json_schema:
      type: string
      ui:widget: file
    nullable: true
    executor_name: python
outputs_def:
  - handle: array
    json_schema:
      type: array
    nullable: false
outputs_from:
  - handle: array
    from_node:
      - node_id: map#1
        output_handle: array
